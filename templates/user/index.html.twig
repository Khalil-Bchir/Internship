{% extends 'base.html.twig' %}

{% block title %}Hello UserController!{% endblock %}

{% block body %}
<br>
<div class="example-wrapper">
    
    <h2> Companies</h2>
    <table class="table table-hover">
        
        <thead>
            <tr>
            
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        
        <tbody>
            
            {% for user in user %}
                {% if user.company %}
                    <tr>
                        <td><a class="text-secondary" href="{{ path('internship.index',{id: user.id } ) }}" > {{user.company}} </a></td>
                        <td><a class="text-secondary"> {{user.email}} </a></td>
                        <td><a class="text-danger" href="{{ path('user.remove',{id: user.id} ) }}" > Delete</a> </td>
                    </tr>
                {% endif %}
            {% endfor %}
        
        </tbody>
    
    </table>
</div>

<br>
<div class="example-wrapper">
    
    <h2> Students</h2>
    <table class="table table-hover">
        
        <thead>
            <tr>
            
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Actions</th>

            </tr>
        </thead>
        
        <tbody>
            
            {% for user in user %}
                {% if user.student %}
                    <tr>
                        <td><a class="text-secondary" href="{{ path('user.show',{id: user.id} ) }}" > {{user.student}} </a></td>
                        <td><a class="text-secondary" href="{{ path('user.show',{id: user.id} ) }}" > {{user.email}} </a></td>
                        <td><a class="text-danger" href="{{ path('user.remove',{id: user.id} ) }}" > Delete</a> </td>
                    </tr>
                {% endif %}
            {% endfor %}
        
        </tbody>
    
    </table>
</div>

<br>

<div class="example-wrapper">
    <br>
    <h2> Internships</h2><br>
    <table class="table table-hover">
        
        <thead>
            <tr>
            <th scope="col">Company</th>
            <th scope="col">Title</th>
            <th scope="col">Periode</th>
            <th scope="col">Actions</th>
            </tr>
        </thead>
        
        <tbody>
            
            {% for internship in internship %}
                {% for user in user %}
                    {% if user == internship.company %}
                            <tr>
                                <td>  <a class="text-secondary"  > {{user.company}} </a> </td>
                                <td><a class="text-secondary" href="" > {{internship.title}} </a></td>
                                <td><a class="text-secondary" href="" > {{internship.periode}} </a></td>
                                <td><a class="text-danger" href="{{ path('internship.remove',{id: internship.id} ) }}" > Delete</a> </td>
                            </tr>
                    {% endif %}
                {% endfor %}  
            {% endfor %}
        
        </tbody>
    
    </table>
</div>

{% endblock %}
